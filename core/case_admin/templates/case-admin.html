{% extends "base.html" %}
{% load staticfiles %}

{% block title %}
    {{ title }} | UWA Case
{% endblock %}

{% block head %}
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.css">
{% endblock %}


{% block body %}
    <table
            data-toggle="table"
            data-search="true"
            data-sortable="true"
            id="admin-tools-table"
            class="table table-striped table-bordered table-sm">
        <thead>
        <tr>
            {% for field in data.entities.0 %}
                <th data-field="{{ field.key }}" data-sortable="true" scope="col" class="admin-table-header th-sm">
                    {{ field.title }}
                </th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for fields in data.entities %}
            <tr class="admin-entity-row" data-toggle="modal" data-target="#entity-edit-modal-{{ fields.0.entity }}">
                {% include "admin-tools-modal.html" %}
                {% for field in fields %}
                    <td class="admin-entity-cell">
                        <div class="admin-table-narrow-header" class="th-sm">
                            {{ field.title }}
                        </div>
                        <div class="admin-table-cell-content">
                            {% if field.type == "action" %}
                                {% include field.widget.template %}
                            {% else %}
                                {{ field.value }}
                            {% endif %}
                        </div>
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <script src="https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.js"></script>
    <script src="{% static "js/caseAdmin.js" %}"></script>
{% endblock %}
